<!-- (c) 2009-2010 Copyright William Joseph Walton, All Rights Reserved  -->
<!-- This computer code is protected by U.S. and International copyright law. -->
<!-- Reproduction, transmission or other use of this computer code in violation -->
<!-- of the applicable End User License Agreement granted to the person who -->
<!-- rightfully received this copy is strictly prohibited. -->

<div class="stretchy_input_field">
  <div id=<%= "#{object}_#{method}_stretchy" %> class=<%= Object.const_get(object.camel_case).new().send(:is_a_required_field?, method) ? "stretchy_box" : "stretchy_link"  %> >
    <ul>
      <li>
        <a id=<%= "#{object}_#{method}_value" %> onclick="swapStretchyForTextInput(<%= '\'' +  object + '_' + method + '\'' %>);"></a>
      </li>
    </ul>
  </div>
  
  <div id=<%= "#{object}_#{method}_input" %> style="display:none" <%= Object.const_get(object.camel_case).new().send(:is_a_required_field?, method) ? 'required' : '' %> >
    <% if size != nil %>
      <%= text_field object, method, :class => 'stretchy_input', :default_value => Object.const_get(object.camel_case).new().send(:default_value_for, method), :onblur => "swapTextInputForStretchyControl( '#{object + '_' + method}')", :autocomplete => "off", :size => size %>
    <% else %>
      <%= text_field object, method, :class => 'stretchy_input', :default_value => Object.const_get(object.camel_case).new().send(:default_value_for, method), :onblur => "swapTextInputForStretchyControl( '#{object + '_' + method}')", :autocomplete => "off" %>
      <% end %>
  </div>

</div>